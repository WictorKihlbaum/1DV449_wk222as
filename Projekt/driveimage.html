<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
        <meta name="google-signin-scope" content="https://www.googleapis.com/auth/drive">
        <meta name="google-signin-client_id" content="788591829115-1uq193qnm8r72ujqej7l3hdj558hj7ej.apps.googleusercontent.com">
        <script src="https://apis.google.com/js/platform.js" async defer></script>
		
        <title>Picme Edit Drive Image</title>
        <!-- Skeleton CSS Framework -->
        <link rel="stylesheet" type="text/css" href="css/normalize.css">
        <link rel="stylesheet" type="text/css" href="css/skeleton.css">
        <!-- Mainstyle CSS -->
        <link rel="stylesheet" type="text/css" href="css/mainstyle.css">
        <!-- Navigation CSS -->
        <link rel="stylesheet" type="text/css" href="css/nav.css">
        <!-- Button-styles -->
        <link rel="stylesheet" type="text/css" href="css/buttons.css">
        <!-- Drive Image Subpage CSS -->
        <link rel="stylesheet" type="text/css" href="css/driveimage.css">
        <!-- Adobe Typekit Fonts (Place in header according to Adobe) -->
        <script src="https://use.typekit.net/fni2mbz.js"></script>
		<script>try{Typekit.load({ async: true });}catch(e){}</script>
	</head>
	<body>
    	<header>
        	<h1>Picme</h1>
            <!-- Google login/logout button -->
            <div class="g-signin2" data-onsuccess="onSignIn"></div><!--App.onSignIn-->
            <a href="#" id="signout-button" onclick="signOut()">Sign out</a><!--App.signOut-->
        </header>
        <main>
        
        	<nav>
            	<ul>
                	<li id="active"><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            
            <div id="top-text">
            	You have to authorize to be able to load your Google Drive images. 
                However, if you already have done so you should be able to see your images right away.
                Only images in formats Png and Jpeg/Jpg will be shown. These are the formats the Aviary editor accepts.
            </div>
            
            <div id="au-div">
                <div id="authorize-div" style="display: none">
                    <p>Authorize access to Google Drive</p>
                    <!--Button for the user to click to initiate auth sequence -->
                    <button id="authorize-button" onclick="GoogleDriveClass.handleAuthClick(event);">
                        Authorize
                    </button>
                </div>
            </div>
            
            <div id="image-div">
            	<ul id="image-list">
                	<!-- li-tags are being added from GoogleDriveClass.js -->
                </ul>
            </div>
            <p>
            	<a href="index.html" class="button-class go-back-button">Go back</a>
            </p>
            
        </main>
        <footer>
        	<p class="footer-text">Contact</p>
            <div id="contact-circles-container">
                <a href="https://www.facebook.com/wictor.kihlbaum">
                    <div class="contact-circles" id="facebook-circle"></div>
                </a>
                <a href="https://twitter.com/WictorKihlbaum">
                    <div class="contact-circles" id="twitter-circle"></div>
                </a>
                <div class="contact-circles" id="google-circle" data-clipboard-text="wictor.kihlbaum@gmail.com" title="Copy email to clipboard"></div>
            </div>
            <p id="copyright">Â© 2016 Webbteknik 2 Projekt</p>
        </footer>
        
        <!-- Load Feather code -->
		<!--<script type="text/javascript" src="http://feather.aviary.com/imaging/v2/editor.js"></script>-->
        <!-- DriveClass JS -->
        <!--<script src="js/DriveClass.js"></script>-->
        
        
       <script src="js/GoogleDriveClass.js"></script>
       
        
        <!-- Google Platform Library -->
      	<!--<script src="https://apis.google.com/js/platform.js" async defer></script>-->
        
      <script>
	  
	  	
		
	  	function onSignIn(googleUser) {
			console.log('test');
			console.log(googleUser);
			
			var profile = googleUser.getBasicProfile();
		  	console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
		  	console.log('Name: ' + profile.getName());
		  	console.log('Image URL: ' + profile.getImageUrl());
		  	console.log('Email: ' + profile.getEmail());
			
			GoogleDriveClass.checkAuth();
		}
		
		function signOut() {
    		var auth2 = gapi.auth2.getAuthInstance();
    		auth2.signOut().then(function() {
      			console.log('User signed out.');
    		});
			
			auth2.disable
			//GoogleDriveClass.checkAuth();
  		}
		
		function init() {
			GoogleDriveClass.init();
		};
		
		
		
	  </script>
      
      
      	<!-- App JS -->
    	<!--<script src="js/App.js"></script>-->
        <script src="https://apis.google.com/js/client.js?onload=init"></script>
        
        <!--<script src="https://apis.google.com/js/platform.js?onload=App.init()" async defer></script>-->
        
        <!-- Clipboard JS -->
        <!--<script src="js/clipboard.js-master/dist/clipboard.min.js"></script>
    	<script src="js/ClipboardClass.js"></script>-->
        
    </body>
</html>
